#!/usr/bin/env shlib

if [[ '[Hh]ello [Ww].*' = 'Hello World' ]] > /dev/null 2>&1; then
	regexp() { [[ "${1}" = "${2}" ]]; }
else
	regexp()
	{
		test "$#" -eq '0' && die 'no string specified'
		test "$#" -eq '1' && die 'no pattern specified'
		# FIXME grep may not support -E
		printf '%s\n' "${2}"|grep -Eq "${1}"
	}
fi

shlib_main {
	for arg; do
		case "${arg}" in (-h|-help|--help)
			echo 'usage: regexp <pattern> <string>'
			exit 0
		esac
	done
	regexp "${1}" "${2}"
}

# vim: filetype=sh
