#!/usr/bin/env shlib

if [[ '[Hh]ello [Ww].*' = 'Hello World' ]] > /dev/null 2>&1; then
	__shlib_string_regexp() { [[ "${1}" = "${2}" ]]; }
else
	__shlib_string_regexp()
	{
		test "$#" -eq '0' && die 'no string specified'
		test "$#" -eq '1' && die 'no pattern specified'
		# FIXME grep may not support -E
		printf '%s\n' "${2}"|grep -q "${1}"
	}
fi
alias string.regexp='__string_regexp'

shlib.main {
	for arg; do
		case "${arg}" in (-h|-help|--help)
			echo "usage: ${0} <pattern> <string>"
			exit 0
		esac
	done
	string.regexp "${1}" "${2}"
}

# vim: filetype=sh
